"Scenario","Screen","Preconditions","Steps","Expected Outcome","Data Hooks"
"Toggle emo theme","Theme Studio","User signed in as admin","Select Emo preset > confirm telemetry payload","Emo palette applied, announcer reads change","dataLayer.event=theme_change; DOM event fixnado:theme-change"
"High contrast validation","Theme Studio","Theme Studio loaded, Theme preset active","Switch contrast to High","Amber halo visible, aria-live announces activation","data-qa=contrast-option.high"
"Marketing variant swap","Theme Studio","Marketing hero variant default","Select Seasonal marketing variant","Seasonal preview rendered with neon overlays","data-qa=marketing-preview.seasonal"
"Dashboard compliance copy","Admin Dashboard","Seeded compliance queue dataset","Navigate to Admin dashboard > open Compliance module","Copy matches compliance tone guide, focus order matches doc","data-qa=admin-compliance-panel"
"Provider document upload","Provider mobile wireframe","Access to provider build","Trigger document upload > observe tooltip","Tooltip copy matches compliance checklist","Event: provider_doc_upload_start"
"Telemetry ingestion handshake","Theme Studio / Data Engineering","Telemetry API deployed, Looker dashboard stub","Toggle each theme > query /api/telemetry/ui-preferences/summary?range=1d","HTTP 202 for beacon calls, summary aggregates counts per theme","API: /api/telemetry/ui-preferences, Summary: /api/telemetry/ui-preferences/summary"
"Telemetry dashboard summary","Admin Telemetry","Seed telemetry dataset or enable sample data","Visit /admin/telemetry > confirm summary cards, chart, and breakdown panels","Totals match API payload, stale warning triggers when latestEventAt >120m","data-qa=telemetry-summary.events; /api/telemetry/ui-preferences/summary"
"Telemetry alert escalation","Telemetry Ops","Slack webhook configured, snapshot table accessible","Backdate telemetry dataset to exceed 120m freshness or reduce emo share below 10% > rerun alert job","Slack payload posted with thresholds + runbook link, snapshot row inserted with governed JSON","/api/telemetry/ui-preferences/summary; Slack webhook mock; DB: ui_preference_telemetry_snapshot"
"Telemetry snapshot feed","Data Engineering","Snapshots API enabled, staging credentials available","Request /api/telemetry/ui-preferences/snapshots?limit=50 then follow pagination cursor","Chronological snapshot list returned with payload JSON, hasMore toggles correctly, cursor chains without duplicates","API: /api/telemetry/ui-preferences/snapshots"
"Telemetry snapshot diagnostics","Data Engineering","Snapshots API enabled, includeStats feature flag documented","Call /api/telemetry/ui-preferences/snapshots?includeStats=true&staleMinutesGte=120 > assert stats payload","Response contains stats.freshness with staleCount incremented, tenants/leadingThemes arrays populated, appliedFilters echoes sanitized bounds","API: /api/telemetry/ui-preferences/snapshots (includeStats)"
"OpsGenie warehouse freshness rehearsal","Admin Telemetry + OpsGenie","Warehouse monitor enabled, OpsGenie sandbox key configured","Insert stale analytics events (set ingestedAt null for bookings) > run warehouseFreshnessJob > open /admin/telemetry","Banner renders with incident alias/backlog/failure streak chips, OpsGenie alert created with correct tags/responders, Playwright asserts CTA links, alert auto-closes after ingestion recovers","Job: warehouseFreshnessJob; API: /api/analytics/dashboards/:persona; OpsGenie sandbox"
