# Version 1.00 Update Change Log

- Initialised the v1.00 evaluation workspace by cloning the update template and preparing documentation scaffolding for backend, front-end, database, dependency, and user app tracks.
- Logged comprehensive pre-update evaluation findings across all tracks to inform remediation planning ahead of the v1.00 rollout.
- Expanded evaluations with deployment-readiness risks (auto-starting backend, destructive migrations, client-side persona escalation) and refreshed shared issue tracking with the newly identified blockers.
- Completed deep-dive scans across backend, web, mobile, and dependency surfaces to surface new cross-cutting security and telemetry gaps, and re-ran local build commands to verify current installation failures.
- Hardened backend authentication by enforcing strict JWT issuer/audience validation with bounded clock tolerance and issuing structured remediation messaging for denied requests, providing operators actionable audit trails.【F:backend-nodejs/src/config/index.js†L95-L104】【F:backend-nodejs/src/config/index.js†L353-L380】【F:backend-nodejs/src/services/sessionService.js†L1-L168】【F:backend-nodejs/src/middleware/auth.js†L1-L305】
- Consolidated the API router under `/v1`, introduced finance and serviceman feature gates, and added toggle-aware middleware to deliver auditable denials until rollout approvals are granted.【F:backend-nodejs/src/routes/index.js†L1-L174】【F:backend-nodejs/src/middleware/featureToggleMiddleware.js†L1-L147】
- Replaced wildcard CORS, disabled Helmet guards, and ungoverned storefront overrides with configuration-driven allowlists, hardened security headers, rate limiter telemetry, and signed override tokens so only approved clients can exercise provider storefront APIs.【F:backend-nodejs/src/app.js†L128-L338】【F:backend-nodejs/src/app.js†L360-L407】【F:backend-nodejs/src/services/storefrontOverrideService.js†L1-L165】【F:backend-nodejs/src/middleware/auth.js†L94-L214】【F:backend-nodejs/src/config/index.js†L58-L399】
- Delivered telemetry ingestion for `/v1/telemetry/client-errors` and `/v1/telemetry/mobile-crashes`, complete with retention pruning, Slack alerting, and per-tenant correlation IDs, and updated the React/Flutter reporters to emit the new contract safely.【F:backend-nodejs/src/services/telemetryService.js†L530-L1045】【F:backend-nodejs/src/controllers/telemetryController.js†L325-L420】【F:backend-nodejs/src/routes/telemetryRoutes.js†L1-L96】【F:frontend-reactjs/src/utils/errorReporting.js†L1-L278】【F:flutter-phoneapp/lib/core/diagnostics/app_diagnostics_reporter.dart†L1-L254】
- Published an RBAC and feature flag governance manual that documents persona unlock rules, demo override approvals, telemetry CI checks, and rollout escalation paths for Version 1.00 stakeholders.【F:docs/updates/1.00/governance/rbac_feature_flag_governance.md†L1-L67】
- Captured database lifecycle hardening with transactional finance migrations, communications retention policies, hashed notification recipients, and deterministic QA fixtures so auditors can trace Version 1.00 evidence end-to-end.【F:docs/updates/1.00/backend_updates/data_lifecycle_hardening.md†L1-L18】
- Repaired backend dependency manifests, restored CommonJS-compatible environment loading, and ratified the Sequelize/Postgres runtime baseline so migrations, load testing, and automation scripts run against a deterministic toolchain.【F:backend-nodejs/package.json†L1-L58】【F:backend-nodejs/scripts/register-env.cjs†L1-L63】【F:docs/updates/1.00/backend_updates/orm_runtime_adr.md†L1-L32】
- Enforced repository-wide runtime baselines by pinning Node/npm engines, capturing Flutter/Android/iOS constraints, introducing toolchain and lockfile verifiers, and wiring CI to fail when builds drift from the approved stack.【F:backend-nodejs/package.json†L1-L61】【F:frontend-reactjs/package.json†L1-L66】【F:flutter-phoneapp/tooling/platform-versions.json†L1-L11】【F:scripts/verify-toolchains.mjs†L1-L253】【F:.github/workflows/build-test-and-scan.yml†L1-L118】
- Rationalised the web geospatial stack with a dynamic MapLibre loader, Terra Draw integration, shared GeoJSON utilities, and a bundle analysis workflow that keeps legacy Mapbox/Turf modules out of entry chunks while powering async explorer and zone experiences.【F:frontend-reactjs/src/lib/mapLibreLoader.js†L1-L32】【F:frontend-reactjs/src/lib/geojson.js†L1-L160】【F:frontend-reactjs/src/components/zones/ZoneDrawingMap.jsx†L1-L200】【F:frontend-reactjs/src/components/explorer/ExplorerMap.jsx†L1-L200】【F:frontend-reactjs/src/pages/explorerUtils.js†L1-L200】【F:scripts/analyze-frontend-bundle.mjs†L1-L78】
- Stabilised persona profiles, provider dashboards, and legal pages by repairing hook order violations, consolidating persona UI logic, and adding resilient loading states so linting, builds, and modal flows succeed after the geospatial migration.【F:frontend-reactjs/src/pages/Profile.jsx†L340-L758】【F:frontend-reactjs/src/pages/Profile.jsx†L1088-L1151】【F:frontend-reactjs/src/pages/ProviderDashboard.jsx†L466-L702】【F:frontend-reactjs/src/pages/Terms.jsx†L209-L360】
- Rebuilt the React session bootstrap to source `/api/auth/me`, throttle cache writes, synchronise persona storage, and emit analytics for persona grants and denials so local storage corruption, offline fallbacks, and self-provisioned admin unlocks are eliminated.【F:frontend-reactjs/src/hooks/useSession.js†L1-L331】【F:frontend-reactjs/src/utils/sessionStorage.js†L1-L289】【F:frontend-reactjs/src/utils/personaStorage.js†L1-L223】【F:frontend-reactjs/src/hooks/usePersonaAccess.js†L1-L86】【F:frontend-reactjs/src/pages/DashboardHub.jsx†L12-L72】
- Regenerated the Flutter dependency lockfile with authoritative pub.dev hashes, published Android/iOS biometric and secure storage runbooks, and introduced a matrixed smoke workflow that builds debug artefacts for both platforms before executing the mobile shell smoke test.【F:flutter-phoneapp/pubspec.lock†L1-L477】【F:docs/updates/1.00/user_phone_app_updates/android_updates.md†L1-L19】【F:docs/updates/1.00/user_phone_app_updates/ios_updates.md†L1-L15】【F:.github/workflows/build-test-and-scan.yml†L64-L117】【F:flutter-phoneapp/test/app/app_shell_test.dart†L1-L120】
- Codified license governance with a shared policy, cross-ecosystem scanner, and k6 harness validation so CI blocks forbidden SPDX classes, flags manual reviews, and guarantees the performance load scripts stay executable before every release candidate.【F:governance/license-policy.json†L1-L36】【F:scripts/license-scan.mjs†L1-L243】【F:scripts/run-load-tests.mjs†L1-L181】【F:.github/workflows/build-test-and-scan.yml†L73-L132】
- Replatformed the web router into persona-scoped shells with contextual Suspense fallbacks and route-transition telemetry so admin, provider, serviceman, and public flows recover independently while emitting navigation analytics to `/api/telemetry/client-errors`.【F:frontend-reactjs/src/App.jsx†L1-L205】【F:frontend-reactjs/src/routes/layouts/PersonaShell.jsx†L1-L72】【F:frontend-reactjs/src/routes/components/PersonaRouteLoader.jsx†L1-L66】【F:frontend-reactjs/src/routes/RouteTelemetryProvider.jsx†L1-L55】【F:frontend-reactjs/src/utils/navigationTelemetry.js†L1-L141】
